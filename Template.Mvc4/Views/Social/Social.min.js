(function(){var a,b,c,d,e;Date.prototype.formatMMDDYYY=function(){return this.getMonth()+1+"/"+this.getDate()+"/"+this.getFullYear()};Date.prototype.formatMMDD=function(){return this.getMonth()+1+"/"+this.getDate()};Date.prototype.addDays=function(f){f=this.getDate()+f;return this.setDate(f)};a=function(g,f){return{date:new Date(g),niceDate:new Date(g).formatMMDDYYY(),channel:f}};c=function(i,g,f){var h;return{title:i,date:new Date(g),niceDate:new Date(g).formatMMDDYYY(),actions:f,getRows:(function(){var j;j=[];for(h=-7;h<=7;h++){j.push(new Date(new Date(g).addDays(h)))}return j})()}};d=new c("Annual Meeting","01/15/2012",new Array(a("01/01/2012","twitter"),a("01/01/2012","facebook"),a("01/03/2012","twitter")));e=new c("Brown Bag","02/24/2012",new Array(a("02/01/2012","twitter"),a("02/01/2012","meetup"),a("02/03/2012","linkedin"),a("02/05/2012","twitter")));b={channels:new Array("facebook","linkedin","twitter"),purposes:new Array("recruit","inform","feedback"),triggers:new Array(d,e)};$(function(){var f;f={triggers:ko.observableArray(ko.toProtectedObservableItemArray(b.triggers)),selectTrigger:function(){return alert(this.title())},selectAction:function(){return alert(this.date())},triggerToAddTitle:ko.observable(""),triggerToAddDate:ko.observable(""),addTrigger:function(){var g;g=c(this.triggerToAddTitle(),this.triggerToAddDate(),new Array());this.triggerToAddTitle("");this.triggerToAddDate("");f.triggers.push(new ko.protectedObservableItem(g));$(".triggers .tabs").tabs();return $(".triggers .details .date").datepicker()}};return ko.applyBindings(f)})}).call(this);