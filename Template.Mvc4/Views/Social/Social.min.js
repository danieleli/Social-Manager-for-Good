(function(){var a,b,c;Date.prototype.formatMMDDYYY=function(){return this.getMonth()+1+"/"+this.getDate()+"/"+this.getFullYear()};Date.prototype.formatMMDD=function(){return this.getMonth()+1+"/"+this.getDate()};Date.prototype.addDays=function(d){d=this.getDate()+d;return this.setDate(d)};a=function(e,d){return{date:new Date(e),niceDate:new Date(e).formatMMDDYYY(),channel:d}};c=function(g,e,d){var f;return{self:this,title:g,date:e,niceDate:new Date(e).formatMMDDYYY(),actions:ko.mapping.fromJS(d),addActionChannel:ko.observable(""),addActionDate:ko.observable(""),getRows:(function(){var h;h=[];for(f=-7;f<=7;f++){h.push(new Date(new Date(e).addDays(f)))}return h})(),actionToAdd:new a("",""),addAction:function(){var h;h=a(this.addActionDate(),this.addActionChannel());this.addActionChannel("");this.addActionDate("");return this.actions.push(h)}}};b=function(){var d,e,f;e=new c("Annual Meeting","01/15/2012",new Array(a("01/01/2012","twitter"),a("01/01/2012","facebook"),a("01/03/2012","twitter")));f=new c("Brown Bag","02/24/2012",new Array(a("02/01/2012","twitter"),a("02/01/2012","meetup"),a("02/03/2012","linkedin"),a("02/05/2012","twitter")));return d={channels:new Array("facebook","linkedin","twitter"),purposes:new Array("recruit","inform","feedback"),triggers:new Array(e,f)}};$(function(){var d,e;d=b();e={self:this,triggers:ko.mapping.fromJS(d.triggers),selectTrigger:function(){return alert(this.title())},selectAction:function(){return alert(this.date())},triggerToAddTitle:ko.observable(""),triggerToAddDate:ko.observable(""),addTrigger:function(){var f;f=c(this.triggerToAddTitle(),this.triggerToAddDate(),new Array(a("04/01/2012","twitter"),a("04/01/2012","facebook")));this.triggerToAddTitle("");this.triggerToAddDate("");e.triggers.push(f);$(".triggers .tabs").tabs();return $(".triggers .details .date").datepicker()}};return ko.applyBindings(e)})}).call(this);