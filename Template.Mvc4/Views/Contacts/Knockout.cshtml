@model IEnumerable<Template.Mvc4.Models.Contact>
@{
  ViewBag.Title = "Knockout Contacts";
}
<div id="contactsList">
  <div class="box-content">
    <input type="text" placeholder="First Name" data-bind="value: contactToAddFirst, valueUpdate: 'afterkeydown', executeOnEnter: addContact" />
    <input type="text" placeholder="Last Name" data-bind="value: contactToAddLast, valueUpdate: 'afterkeydown', executeOnEnter: addContact" />
    <button data-bind="click: addContact">
      + Add</button>
    <ul data-bind="foreach: contacts">
      <li class="contactItem" data-bind="click: $parent.selectContact"><span data-bind="text: Title">
      </span><span data-bind="text: FirstName"></span><span data-bind="text: LastName"></span>
        <div>
          <a href="#" class="contact-edit">Edit</a> <a href="#" class="contact-delete">Delete</a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="contactDialog" data-bind="with: selectedContact">
  <div>
    <label>
      Id:</label>
    <input type="text" readonly data-bind="value: Id" />
  </div>
  <div>
    <label>
      Title:</label>
    <input type="text" data-bind="value: Title" />
  </div>
  <div>
    <label>
      First Name:</label>
    <input type="text" data-bind="value: FirstName" />
  </div>
  <div>
    <label>
      Last Name:</label>
    <input type="text" data-bind="value: LastName" />
  </div>
  <div>
    <label>
      Last Modified:</label>
    <input class="smaller" readonly type="datetime" data-bind="value: ModifyDate" />
  </div>
</div>
@section pageScripts
{
  <script src="/Views/_Scripts/ko-protected-observable.js" type="text/javascript"></script>
  <script src="/Content/lib/knockout/knockout-1.3.0beta.js" type="text/javascript"></script>
  <script src="@Url.Content("~/Views/_Scripts/CrudHelpers.js")" type="text/javascript"></script>
  <script src="@Url.Content("~/Views/Contacts/Contact.js")" type="text/javascript"></script>
}
<style type="text/css">
  #contactDialog label
  {
    width: 120px;
    display: inline-block;
    text-align: right;
  }
  
  #contactDialog input
  {
    display: inline-block;
    width: 250px;
  }
  #contactsList li span { padding: 4px; }
  
  .smaller {font-size: x-small !Important; }
</style>
